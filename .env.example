# ============================================
# namgun.or.kr Portal 환경 설정
# ============================================

# --- 앱 ---
APP_NAME=namgun.or.kr Portal
APP_URL=https://namgun.or.kr
DEBUG=false
SECRET_KEY=CHANGE_ME_TO_RANDOM_64CHAR_STRING

# --- PostgreSQL ---
POSTGRES_USER=portal
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=portal
DATABASE_URL=postgresql+asyncpg://portal:CHANGE_ME_STRONG_PASSWORD@portal-db:5432/portal

# --- Authentik OIDC ---
OIDC_ISSUER=https://auth.namgun.or.kr/application/o/portal/
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=
OIDC_REDIRECT_URI=https://namgun.or.kr/api/auth/callback
OIDC_ADMIN_GROUP=authentik Admins

# --- Authentik Server-Side Auth ---
AUTHENTIK_BASE_URL=https://auth.namgun.or.kr
AUTHENTIK_FLOW_SLUG=default-authentication-flow

# --- Authentik Admin API ---
AUTHENTIK_API_TOKEN=
AUTHENTIK_USERS_GROUP_PK=
AUTHENTIK_ADMINS_GROUP_PK=

# --- Gitea ---
GITEA_URL=http://192.168.0.50:3000
GITEA_TOKEN=

# --- Portal OAuth Provider ---
# JSON: {"client_id": {"secret": "...", "redirect_uris": ["..."]}}
OAUTH_CLIENTS_JSON={}

# --- 포트 ---
PORTAL_HTTP_PORT=8080
